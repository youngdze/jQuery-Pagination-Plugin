!function(a,b,c){"use strict";var d=function(a,b){this.total=a,this.currentPage=b};d.prototype.generate=function(){function a(a){var b=/^\+?(0|[1-9])\d*$/;return b.test(a)}try{if(!a(this.total)&&!a(this.currentPage))throw"positive integers required";if(this.currentPage>this.total)throw"current index of page cannot bigger than the total number of pages";var b=[];if(this.currentPage<6)for(var c=1;c<=this.total;c++)if(c<=this.currentPage+2)b.push(c);else if(Math.abs(this.currentPage+2-this.total)<2){if(b.push(c),c===this.total)break}else{if(c!==this.total)continue;b.push("..."),b.push(this.total)}else if(this.currentPage>=6&&this.currentPage<=this.total-5)for(var c=1;c<=this.total;c++)if(1===c)b.push(1),b.push("...");else{if(c<this.currentPage-2)continue;if(c>=this.currentPage-2&&c<=this.currentPage+2)b.push(c);else{if(c>this.currentPage+2&&c<this.total)continue;c===this.total&&(b.push("..."),b.push(c))}}else if(this.currentPage>this.total-5)for(var c=1;c<=this.total;c++)if(1===c)b.push(1),b.push("...");else{if(c<this.currentPage-2)continue;b.push(c)}return 1===this.currentPage?1!==this.total&&b.push("next"):this.currentPage===this.total?b.splice(0,0,"pre"):(b.splice(0,0,"pre"),b.push("next")),b}catch(d){console.log("Error: "+d+".")}};var e=function(a,b){this.nodeName=a,this.text=b};e.prototype.generate=function(){var a=c.createElement(this.nodeName),b=c.createTextNode(this.text);return a.appendChild(b),a};var f=function(a,b){var c=parseInt(location.hash.substring(6),10),f=new d(a,b),g=f.generate(),h=new e("ul",""),i=h.generate();i.setAttribute("class","pagination");for(var j=0;j<g.length;j++){var k=new e("li",""),l=new e("a",g[j]),m=k.generate(),n=l.generate();"pre"===g[j]||"next"===g[j]||"..."===g[j]?(n.setAttribute("href","javascript:void(0)"),"pre"===g[j]?m.setAttribute("class","pagePre"):"next"===g[j]?m.setAttribute("class","pageNext"):n.setAttribute("style","cursor: not-allowed;")):n.setAttribute("href","#page="+g[j]),c||1!==g[j]?g[j]===c&&m.setAttribute("class","active"):m.setAttribute("class","active"),m.appendChild(n),i.appendChild(m)}return i};a.fn.pagination=function(b){var d=a(this),e={totalPage:20,callback:null},g=a.extend(e,b),h=parseInt(location.hash.substring(6),10)||1,i=10*a.fn.jquery.substr(0,3),j=function(){var b=a(this);b.hasClass("pagePre")?(h--,location.hash="#page="+h,d.html(f(g.totalPage,h)),"function"==typeof g.callback&&g.callback(h)):b.hasClass("pageNext")?(h++,location.hash="#page="+h,d.html(f(g.totalPage,h)),"function"==typeof g.callback&&g.callback(h)):"..."===b.text()||(h=parseInt(b.find("a").attr("href").substring(6),10),location.hash="#page="+h,d.html(f(g.totalPage,h)),"function"==typeof g.callback&&g.callback(h))};d.html(f(g.totalPage,h)),function(){17>i?a(c).delegate(".pagination li","click",j):a(c).on("click",".pagination li",j)}()}}(jQuery,window,document);